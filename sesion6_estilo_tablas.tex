% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
]{article}
\usepackage{amsmath,amssymb}
\usepackage{lmodern}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\usepackage[margin=1in]{geometry}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{-\maxdimen} % remove section numbering
\usepackage{booktabs}
\usepackage{caption}
\usepackage{longtable}
\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same} % disable monospaced font for URLs
\hypersetup{
  pdftitle={sesion6\_formato\_tablas},
  pdfauthor={Kimberley Isabel Orozco Cornejo},
  hidelinks,
  pdfcreator={LaTeX via pandoc}}

\title{sesion6\_formato\_tablas}
\author{Kimberley Isabel Orozco Cornejo}
\date{2023-06-27}

\begin{document}
\maketitle

\hypertarget{uso-del-paquete-gt-para-estilo-de-cuadros.}{%
\subsection{Uso del paquete gt para estilo de
cuadros.}\label{uso-del-paquete-gt-para-estilo-de-cuadros.}}

Cuando comunicamos nuestros resultados, es importante que tengamos en
cuenta el formato de los cuadros que estamos generando. Existen varios
paquetes de R que nos pueden ayudar a estilizar nuestras tablas, por
ejemplo:

\begin{itemize}
\tightlist
\item
  gt
\item
  DT
\item
  kableExtra
\item
  flextable
\end{itemize}

En esta clase aprenderemos cómo trabajar con gt.

Primero, vamos a crear un dataframe a partir del dataset islands de la
librería datasets.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_islas }\OtherTok{\textless{}{-}} \FunctionTok{tibble}\NormalTok{(}
    \AttributeTok{nombre =} \FunctionTok{names}\NormalTok{(datasets}\SpecialCharTok{::}\NormalTok{islands),}
    \AttributeTok{tamano =}\NormalTok{ islands}
\NormalTok{  )}
\end{Highlighting}
\end{Shaded}

De este dataframe, vamos a extraer las 10 masas terrestres más grandes
del mundo y crear una nueva columna que indique si la masa es un
Continente, un país o una subregión:

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Cargar datos}
\NormalTok{datos\_islas }\OtherTok{\textless{}{-}}\NormalTok{ df\_islas }\SpecialCharTok{|\textgreater{}} 
  \FunctionTok{arrange}\NormalTok{(}\FunctionTok{desc}\NormalTok{(tamano)) }\SpecialCharTok{|\textgreater{}} 
  \FunctionTok{head}\NormalTok{(}\DecValTok{10}\NormalTok{) }\SpecialCharTok{|\textgreater{}} 
  \FunctionTok{mutate}\NormalTok{(}\AttributeTok{tipo =} \FunctionTok{c}\NormalTok{(}\StringTok{"Continente"}\NormalTok{, }\StringTok{"Continente"}\NormalTok{, }\StringTok{"Continente"}\NormalTok{, }\StringTok{"Continente"}\NormalTok{, }\StringTok{"Continente"}\NormalTok{, }
                  \StringTok{"Continente"}\NormalTok{, }\StringTok{"País"}\NormalTok{, }\StringTok{"País"}\NormalTok{, }\StringTok{"Subregión"}\NormalTok{, }\StringTok{"Subregión"}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

Así se ve este dataframe sin hacerle ningún formato:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{datos\_islas}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 10 x 3
##    nombre        tamano tipo      
##    <chr>          <dbl> <chr>     
##  1 Asia           16988 Continente
##  2 Africa         11506 Continente
##  3 North America   9390 Continente
##  4 South America   6795 Continente
##  5 Antarctica      5500 Continente
##  6 Europe          3745 Continente
##  7 Australia       2968 País      
##  8 Greenland        840 País      
##  9 New Guinea       306 Subregión 
## 10 Borneo           280 Subregión
\end{verbatim}

Para mejorar el formato de este dataframe con la librería gt, primero
convertimos el df a un objeto gt como se muestra a continuación:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{islas\_gt }\OtherTok{\textless{}{-}}\NormalTok{ datos\_islas }\SpecialCharTok{|\textgreater{}} 
  \FunctionTok{gt}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

Observe que hemos transformado el dataframe en un objeto que parece una
lista, como aparece en nuestro entorno. Visualicemos cómo queda hasta
este momento:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{islas\_gt}
\end{Highlighting}
\end{Shaded}

\begin{longtable}{lrl}
\toprule
nombre & tamano & tipo \\ 
\midrule
Asia & 16988 & Continente \\ 
Africa & 11506 & Continente \\ 
North America & 9390 & Continente \\ 
South America & 6795 & Continente \\ 
Antarctica & 5500 & Continente \\ 
Europe & 3745 & Continente \\ 
Australia & 2968 & País \\ 
Greenland & 840 & País \\ 
New Guinea & 306 & Subregión \\ 
Borneo & 280 & Subregión \\ 
\bottomrule
\end{longtable}

No está mal pero queda muy básico. Con gt podemos añadirle varias partes
a nuestra tabla, como títulos, subtítulos, notas al piel, referencias y
más.

\hypertarget{agregar-tuxedtulos-y-subtuxedtulos}{%
\subsection{Agregar títulos y
subtítulos}\label{agregar-tuxedtulos-y-subtuxedtulos}}

La forma en que agregamos partes como el encabezado de la tabla y las
notas al pie en el pie de tabla es utilizando la familia de funciones
tab\_*(). Es fácil agregar un encabezado de tabla, así que veamos cómo
se ve la tabla anterior con un título y un subtítulo. Podemos agregar
esta parte usando la función tab\_header().

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{islas\_gt }\OtherTok{\textless{}{-}}\NormalTok{ datos\_islas }\SpecialCharTok{|\textgreater{}} 
  \FunctionTok{gt}\NormalTok{() }\SpecialCharTok{|\textgreater{}} 
   \FunctionTok{tab\_header}\NormalTok{(}
    \AttributeTok{title =} \StringTok{"Grandes masas terrestres del mundo"}\NormalTok{,}
    \AttributeTok{subtitle =} \StringTok{"Se presentan las 10 más grandes"} \CommentTok{\# es opcional}
\NormalTok{  )}
\end{Highlighting}
\end{Shaded}

Veamos cómo se ve la tabla con el título y subtítulo:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{islas\_gt}
\end{Highlighting}
\end{Shaded}

\begin{longtable}{lrl}
\caption*{
{\large Grandes masas terrestres del mundo} \\ 
{\small Se presentan las 10 más grandes}
} \\ 
\toprule
nombre & tamano & tipo \\ 
\midrule
Asia & 16988 & Continente \\ 
Africa & 11506 & Continente \\ 
North America & 9390 & Continente \\ 
South America & 6795 & Continente \\ 
Antarctica & 5500 & Continente \\ 
Europe & 3745 & Continente \\ 
Australia & 2968 & País \\ 
Greenland & 840 & País \\ 
New Guinea & 306 & Subregión \\ 
Borneo & 280 & Subregión \\ 
\bottomrule
\end{longtable}

\hypertarget{mover-posiciuxf3n-de-columnas-y-ajustar-sus-nombres}{%
\subsection{Mover posición de columnas y ajustar sus
nombres}\label{mover-posiciuxf3n-de-columnas-y-ajustar-sus-nombres}}

Suponga que deseamos reacomodar las columnas de nuestra tabla. Podemos
hacerlo antes de convertir el dataframe en un objeto gt (usando la
función relocate de dplyr), o podemos hacerlo directamente con gt:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{islas\_gt }\OtherTok{\textless{}{-}}\NormalTok{ islas\_gt }\SpecialCharTok{|\textgreater{}} 
  \FunctionTok{cols\_move\_to\_start}\NormalTok{(}
    \AttributeTok{columns =} \FunctionTok{c}\NormalTok{(nombre, tipo, tamano)}
\NormalTok{  ) }

\NormalTok{islas\_gt}
\end{Highlighting}
\end{Shaded}

\begin{longtable}{llr}
\caption*{
{\large Grandes masas terrestres del mundo} \\ 
{\small Se presentan las 10 más grandes}
} \\ 
\toprule
nombre & tipo & tamano \\ 
\midrule
Asia & Continente & 16988 \\ 
Africa & Continente & 11506 \\ 
North America & Continente & 9390 \\ 
South America & Continente & 6795 \\ 
Antarctica & Continente & 5500 \\ 
Europe & Continente & 3745 \\ 
Australia & País & 2968 \\ 
Greenland & País & 840 \\ 
New Guinea & Subregión & 306 \\ 
Borneo & Subregión & 280 \\ 
\bottomrule
\end{longtable}

\hypertarget{auxf1adir-tab_spanners}{%
\subsection{Añadir tab\_spanners}\label{auxf1adir-tab_spanners}}

Los tabs spanner sirven para agrupar varias columnas en grupos. Esto no
siempre es necesario pero en algunos casos puede ayudarnos a mejorar la
presentación de la información. Se crean con la función tab\_spanner:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{islas\_gt }\OtherTok{\textless{}{-}}\NormalTok{ islas\_gt }\SpecialCharTok{|\textgreater{}} 
  \FunctionTok{tab\_spanner}\NormalTok{(}
    \AttributeTok{label =} \StringTok{"Información política"}\NormalTok{,}
    \AttributeTok{columns =} \FunctionTok{c}\NormalTok{(nombre, tipo)}
\NormalTok{  ) }\SpecialCharTok{|\textgreater{}}
  \FunctionTok{tab\_spanner}\NormalTok{(}
    \AttributeTok{label =} \StringTok{"Información geográfica"}\NormalTok{,}
    \AttributeTok{columns =} \FunctionTok{c}\NormalTok{(tamano)}
\NormalTok{  )}
\end{Highlighting}
\end{Shaded}

\hypertarget{auxf1adir-nota-de-origen-y-pie-de-tabla-source_note}{%
\subsection{Añadir Nota de Origen y pie de tabla
(source\_note)}\label{auxf1adir-nota-de-origen-y-pie-de-tabla-source_note}}

Se puede agregar una nota de origen al pie de página de la tabla
mediante el uso de la función tab\_source\_note(). La idea es que esto
nos permite indicar la fuente de nuestros datos. Funciona de la misma
manera que tab\_header() (también permite entradas de Markdown), excepto
que se puede llamar varias veces: cada invocación da como resultado la
adición de una nota de origen.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{islas\_gt }\OtherTok{\textless{}{-}}\NormalTok{ islas\_gt }\SpecialCharTok{|\textgreater{}} 
  \FunctionTok{tab\_source\_note}\NormalTok{(}
    \AttributeTok{source\_note =} \StringTok{"Fuente: The World Almanac and Book of Facts, 1975, page 406."}
\NormalTok{  ) }\SpecialCharTok{|\textgreater{}} 
  \FunctionTok{tab\_source\_note}\NormalTok{(}
    \AttributeTok{source\_note =} \StringTok{"McNeil, D. R. (1977) Interactive Data Analysis. Wiley."}
\NormalTok{  )}

\CommentTok{\# Para ver el resultado:}
\NormalTok{islas\_gt}
\end{Highlighting}
\end{Shaded}

\setlength{\LTpost}{0mm}
\begin{longtable}{llr}
\caption*{
{\large Grandes masas terrestres del mundo} \\ 
{\small Se presentan las 10 más grandes}
} \\ 
\toprule
\multicolumn{2}{c}{Información política} & Información geográfica \\ 
\cmidrule(lr){1-2} \cmidrule(lr){3-3}
nombre & tipo & tamano \\ 
\midrule
Asia & Continente & 16988 \\ 
Africa & Continente & 11506 \\ 
North America & Continente & 9390 \\ 
South America & Continente & 6795 \\ 
Antarctica & Continente & 5500 \\ 
Europe & Continente & 3745 \\ 
Australia & País & 2968 \\ 
Greenland & País & 840 \\ 
New Guinea & Subregión & 306 \\ 
Borneo & Subregión & 280 \\ 
\bottomrule
\end{longtable}
\begin{minipage}{\linewidth}
Fuente: The World Almanac and Book of Facts, 1975, page 406.\\
McNeil, D. R. (1977) Interactive Data Analysis. Wiley.\\
\end{minipage}

Las notas al pie se encuentran dentro de la parte del Pie de tabla y sus
marcas de referencia están adjuntas a los datos de las celdas. Las notas
al pie se agregan con la función tab\_footnote().

Dependiendo de dónde queremos añadir el pie de página, deberemos usar
una función distinta para indicar el location de ese pie.

Aquí tenemos un ejemplo sencillo de cómo se pueden agregar notas al pie
a una celda de tabla. Añadamos una nota al pie que haga referencia a las
celdas de América del Norte y América del Sur en la columna de nombres:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{islas\_gt }\OtherTok{\textless{}{-}}\NormalTok{ islas\_gt }\SpecialCharTok{|\textgreater{}} 
  \FunctionTok{tab\_footnote}\NormalTok{(}
    \AttributeTok{footnote =} \StringTok{"Las Américas"}\NormalTok{, }\CommentTok{\# es lo que va a decir el pie de tabla}
    \AttributeTok{locations =} \FunctionTok{cells\_body}\NormalTok{(}\AttributeTok{columns =}\NormalTok{ nombre, }\AttributeTok{rows =} \DecValTok{3}\SpecialCharTok{:}\DecValTok{4}\NormalTok{) }\CommentTok{\# acá indicamos la referencia al pie de tabla}
\NormalTok{  )}
\end{Highlighting}
\end{Shaded}

Veamos cómo se ve esto:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{islas\_gt}
\end{Highlighting}
\end{Shaded}

\setlength{\LTpost}{0mm}
\begin{longtable}{llr}
\caption*{
{\large Grandes masas terrestres del mundo} \\ 
{\small Se presentan las 10 más grandes}
} \\ 
\toprule
\multicolumn{2}{c}{Información política} & Información geográfica \\ 
\cmidrule(lr){1-2} \cmidrule(lr){3-3}
nombre & tipo & tamano \\ 
\midrule
Asia & Continente & 16988 \\ 
Africa & Continente & 11506 \\ 
North America\textsuperscript{\textit{1}} & Continente & 9390 \\ 
South America\textsuperscript{\textit{1}} & Continente & 6795 \\ 
Antarctica & Continente & 5500 \\ 
Europe & Continente & 3745 \\ 
Australia & País & 2968 \\ 
Greenland & País & 840 \\ 
New Guinea & Subregión & 306 \\ 
Borneo & Subregión & 280 \\ 
\bottomrule
\end{longtable}
\begin{minipage}{\linewidth}
\textsuperscript{\textit{1}}Las Américas\\
Fuente: The World Almanac and Book of Facts, 1975, page 406.\\
McNeil, D. R. (1977) Interactive Data Analysis. Wiley.\\
\end{minipage}

Si queremos añadir una nota al pie directamente en el nombre de una
columna, en locations usamos la función

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{islas\_gt }\OtherTok{\textless{}{-}}\NormalTok{ islas\_gt }\SpecialCharTok{|\textgreater{}}   
  \FunctionTok{tab\_footnote}\NormalTok{(}
    \AttributeTok{footnote =} \StringTok{"Tamaño en miles de millas cuadradas"}\NormalTok{, }\CommentTok{\#lo que va a decir al pie de la tabla}
    \AttributeTok{locations =} \FunctionTok{cells\_column\_labels}\NormalTok{(}\AttributeTok{columns =}\NormalTok{ tamano),}\CommentTok{\#la referencia al pie}
    \AttributeTok{placement =} \StringTok{"right"}
\NormalTok{  )}

\NormalTok{islas\_gt}
\end{Highlighting}
\end{Shaded}

\setlength{\LTpost}{0mm}
\begin{longtable}{llr}
\caption*{
{\large Grandes masas terrestres del mundo} \\ 
{\small Se presentan las 10 más grandes}
} \\ 
\toprule
\multicolumn{2}{c}{Información política} & Información geográfica \\ 
\cmidrule(lr){1-2} \cmidrule(lr){3-3}
nombre & tipo & tamano\textsuperscript{\textit{1}} \\ 
\midrule
Asia & Continente & 16988 \\ 
Africa & Continente & 11506 \\ 
North America\textsuperscript{\textit{2}} & Continente & 9390 \\ 
South America\textsuperscript{\textit{2}} & Continente & 6795 \\ 
Antarctica & Continente & 5500 \\ 
Europe & Continente & 3745 \\ 
Australia & País & 2968 \\ 
Greenland & País & 840 \\ 
New Guinea & Subregión & 306 \\ 
Borneo & Subregión & 280 \\ 
\bottomrule
\end{longtable}
\begin{minipage}{\linewidth}
\textsuperscript{\textit{1}}Tamaño en miles de millas cuadradas\\
\textsuperscript{\textit{2}}Las Américas\\
Fuente: The World Almanac and Book of Facts, 1975, page 406.\\
McNeil, D. R. (1977) Interactive Data Analysis. Wiley.\\
\end{minipage}

Ejercicios para la observacion 1688 que diga ``El tamaño más grande''

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{islas\_gt }\OtherTok{\textless{}{-}}\NormalTok{ islas\_gt }\SpecialCharTok{|\textgreater{}} 
\FunctionTok{tab\_footnote}\NormalTok{( }
  \AttributeTok{footnote =} \StringTok{"El tamaño más grande"}\NormalTok{,}
  \AttributeTok{locations =}  \FunctionTok{cells\_body}\NormalTok{(}\AttributeTok{columns =}\NormalTok{ tamano, }\AttributeTok{rows =} \DecValTok{1}\NormalTok{ ))}

\NormalTok{islas\_gt}
\end{Highlighting}
\end{Shaded}

\setlength{\LTpost}{0mm}
\begin{longtable}{llr}
\caption*{
{\large Grandes masas terrestres del mundo} \\ 
{\small Se presentan las 10 más grandes}
} \\ 
\toprule
\multicolumn{2}{c}{Información política} & Información geográfica \\ 
\cmidrule(lr){1-2} \cmidrule(lr){3-3}
nombre & tipo & tamano\textsuperscript{\textit{1}} \\ 
\midrule
Asia & Continente & \textsuperscript{\textit{2}} 16988 \\ 
Africa & Continente & 11506 \\ 
North America\textsuperscript{\textit{3}} & Continente & 9390 \\ 
South America\textsuperscript{\textit{3}} & Continente & 6795 \\ 
Antarctica & Continente & 5500 \\ 
Europe & Continente & 3745 \\ 
Australia & País & 2968 \\ 
Greenland & País & 840 \\ 
New Guinea & Subregión & 306 \\ 
Borneo & Subregión & 280 \\ 
\bottomrule
\end{longtable}
\begin{minipage}{\linewidth}
\textsuperscript{\textit{1}}Tamaño en miles de millas cuadradas\\
\textsuperscript{\textit{2}}El tamaño más grande\\
\textsuperscript{\textit{3}}Las Américas\\
Fuente: The World Almanac and Book of Facts, 1975, page 406.\\
McNeil, D. R. (1977) Interactive Data Analysis. Wiley.\\
\end{minipage}

En resumen, en location usamos:

\begin{itemize}
\tightlist
\item
  cells\_body si la nota va dentro del cuerpo de la tabla
\item
  cells\_column\_labels si la nota va en el nombre de una columna
\end{itemize}

Vea la ayuda de tab\_footnote para más detalles.

\hypertarget{auxf1adir-colores}{%
\subsection{Añadir colores}\label{auxf1adir-colores}}

Podemos hacer más cosas interesantes con gt. Por ejemplo, digamos que
queremos añadir colores en la columna tamaño. Esto lo podemos hacer
usando la función data\_color. OJO: los colores pueden verse cuando se
renderiza en docx o html, pero no en pdf.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{islas\_gt }\OtherTok{\textless{}{-}}\NormalTok{ islas\_gt }\SpecialCharTok{|\textgreater{}} 
  \FunctionTok{data\_color}\NormalTok{(}
    \AttributeTok{columns =}\NormalTok{ tamano,}
    \AttributeTok{palette =} \FunctionTok{c}\NormalTok{(}\StringTok{"yellow"}\NormalTok{, }\StringTok{"orange"}\NormalTok{, }\StringTok{"navyblue"}\NormalTok{)}
\NormalTok{  )}

\NormalTok{islas\_gt}
\end{Highlighting}
\end{Shaded}

\setlength{\LTpost}{0mm}
\begin{longtable}{llr}
\caption*{
{\large Grandes masas terrestres del mundo} \\ 
{\small Se presentan las 10 más grandes}
} \\ 
\toprule
\multicolumn{2}{c}{Información política} & Información geográfica \\ 
\cmidrule(lr){1-2} \cmidrule(lr){3-3}
nombre & tipo & tamano\textsuperscript{\textit{1}} \\ 
\midrule
Asia & Continente & \textsuperscript{\textit{2}} 16988 \\ 
Africa & Continente & 11506 \\ 
North America\textsuperscript{\textit{3}} & Continente & 9390 \\ 
South America\textsuperscript{\textit{3}} & Continente & 6795 \\ 
Antarctica & Continente & 5500 \\ 
Europe & Continente & 3745 \\ 
Australia & País & 2968 \\ 
Greenland & País & 840 \\ 
New Guinea & Subregión & 306 \\ 
Borneo & Subregión & 280 \\ 
\bottomrule
\end{longtable}
\begin{minipage}{\linewidth}
\textsuperscript{\textit{1}}Tamaño en miles de millas cuadradas\\
\textsuperscript{\textit{2}}El tamaño más grande\\
\textsuperscript{\textit{3}}Las Américas\\
Fuente: The World Almanac and Book of Facts, 1975, page 406.\\
McNeil, D. R. (1977) Interactive Data Analysis. Wiley.\\
\end{minipage}

\hypertarget{ajustar-los-nombres-de-las-columnas}{%
\subsection{Ajustar los nombres de las
columnas:}\label{ajustar-los-nombres-de-las-columnas}}

Podemos hacer esto con la función cols\_label:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{islas\_gt }\OtherTok{\textless{}{-}}\NormalTok{ islas\_gt }\SpecialCharTok{|\textgreater{}} 
  \FunctionTok{cols\_label}\NormalTok{(}
    \AttributeTok{nombre =} \StringTok{"Nombre"}\NormalTok{,}
    \AttributeTok{tipo =} \StringTok{"Tipo"}\NormalTok{,}
    \AttributeTok{tamano =} \StringTok{"Area"}
\NormalTok{  )}

\NormalTok{islas\_gt}
\end{Highlighting}
\end{Shaded}

\setlength{\LTpost}{0mm}
\begin{longtable}{llr}
\caption*{
{\large Grandes masas terrestres del mundo} \\ 
{\small Se presentan las 10 más grandes}
} \\ 
\toprule
\multicolumn{2}{c}{Información política} & Información geográfica \\ 
\cmidrule(lr){1-2} \cmidrule(lr){3-3}
Nombre & Tipo & Area\textsuperscript{\textit{1}} \\ 
\midrule
Asia & Continente & \textsuperscript{\textit{2}} 16988 \\ 
Africa & Continente & 11506 \\ 
North America\textsuperscript{\textit{3}} & Continente & 9390 \\ 
South America\textsuperscript{\textit{3}} & Continente & 6795 \\ 
Antarctica & Continente & 5500 \\ 
Europe & Continente & 3745 \\ 
Australia & País & 2968 \\ 
Greenland & País & 840 \\ 
New Guinea & Subregión & 306 \\ 
Borneo & Subregión & 280 \\ 
\bottomrule
\end{longtable}
\begin{minipage}{\linewidth}
\textsuperscript{\textit{1}}Tamaño en miles de millas cuadradas\\
\textsuperscript{\textit{2}}El tamaño más grande\\
\textsuperscript{\textit{3}}Las Américas\\
Fuente: The World Almanac and Book of Facts, 1975, page 406.\\
McNeil, D. R. (1977) Interactive Data Analysis. Wiley.\\
\end{minipage}

Práctica en grupos

Para los datos de airquality, realice lo siguiente:

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\tightlist
\item
  Cargue los datos
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{datos\_calidad\_aire }\OtherTok{\textless{}{-}}\NormalTok{ datasets}\SpecialCharTok{::}\NormalTok{airquality}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\setcounter{enumi}{1}
\item
  Obtenga un cuadro con los 10 registros con las temperaturas reportadas
  más altas
\item
  Agregue títulos, subtítulos, fuente y pie de tabla al cuadro obtenido.
  Recuerde usar ?airquality para obtener información sobre el origen de
  los datos.
\item
  Además, agrupelas columnas Ozone, Solar.R y Wind bajo un tab\_spanner
  llamada ``Mediciones'', y las columnas Temp, Month y Day bajo un
  tab\_spanner llamado ``Tiempo''.
\item
  Renombre las columnas para que estén en español y coloque colores a su
  gusto a la columna Temperatura.
\end{enumerate}

\end{document}
